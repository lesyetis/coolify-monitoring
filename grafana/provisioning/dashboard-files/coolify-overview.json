{
  "annotations": {"list": []},
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": null,
  "links": [],
  "panels": [
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 4, "x": 0, "y": 0},
      "id": 1,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "pluginVersion": "12.3.3",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "count(count by (container_label_coolify_projectName) (container_last_seen{container_label_coolify_managed=\"true\"}))", "refId": "A"}],
      "title": "Total Projects",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 30}, {"color": "red", "value": 50}]}
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 4, "x": 4, "y": 0},
      "id": 2,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "pluginVersion": "12.3.3",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "count(container_last_seen{container_label_coolify_managed=\"true\", container_label_com_docker_compose_service!=\"\"})", "refId": "A"}],
      "title": "Total Services",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [
            {"options": {"match": "null", "result": {"color": "red", "index": 0, "text": "0"}}, "type": "special"}
          ],
          "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 4, "x": 8, "y": 0},
      "id": 3,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "pluginVersion": "12.3.3",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "count((time() - container_last_seen{container_label_coolify_managed=\"true\"}) < 60)", "refId": "A"}],
      "title": "Services UP",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 1}]}
        },
        "overrides": []
      },
      "gridPos": {"h": 4, "w": 4, "x": 12, "y": 0},
      "id": 4,
      "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
      "pluginVersion": "12.3.3",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "count((time() - container_last_seen{container_label_coolify_managed=\"true\"}) >= 60) or vector(0)", "refId": "A"}],
      "title": "Services DOWN",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": {"tooltip": false, "viz": false, "legend": false}, "insertNulls": false, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {"h": 8, "w": 8, "x": 16, "y": 0},
      "id": 5,
      "options": {"legend": {"calcs": ["mean", "max", "last"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "multi", "sort": "desc"}},
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "topk(10, sum by (container_label_coolify_projectName) (rate(container_cpu_usage_seconds_total{container_label_coolify_managed=\"true\"}[5m])) * 100)", "legendFormat": "{{container_label_coolify_projectName}}", "refId": "A"}],
      "title": "Top 10 CPU by Project",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "custom": {"align": "auto", "cellOptions": {"type": "auto"}, "inspect": false},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}
        },
        "overrides": [
          {"matcher": {"id": "byName", "options": "Project"}, "properties": [{"id": "custom.width", "value": 200}, {"id": "links", "value": [{"title": "View Dashboard", "url": "/d/coolify-${__data.fields.Project}"}]}]},
          {"matcher": {"id": "byName", "options": "Services"}, "properties": [{"id": "custom.width", "value": 80}]},
          {"matcher": {"id": "byName", "options": "Status"}, "properties": [{"id": "mappings", "value": [{"options": {"0": {"color": "red", "index": 0, "text": "DOWN"}, "1": {"color": "green", "index": 1, "text": "UP"}}, "type": "value"}]}, {"id": "custom.cellOptions", "value": {"mode": "gradient", "type": "color-background"}}, {"id": "custom.width", "value": 80}]},
          {"matcher": {"id": "byName", "options": "CPU %"}, "properties": [{"id": "unit", "value": "percent"}, {"id": "custom.cellOptions", "value": {"mode": "gradient", "type": "color-background"}}, {"id": "custom.width", "value": 100}]},
          {"matcher": {"id": "byName", "options": "Memory"}, "properties": [{"id": "unit", "value": "bytes"}, {"id": "custom.width", "value": 120}]},
          {"matcher": {"id": "byName", "options": "Network RX"}, "properties": [{"id": "unit", "value": "Bps"}, {"id": "custom.width", "value": 120}]},
          {"matcher": {"id": "byName", "options": "Network TX"}, "properties": [{"id": "unit", "value": "Bps"}, {"id": "custom.width", "value": 120}]}
        ]
      },
      "gridPos": {"h": 16, "w": 16, "x": 0, "y": 4},
      "id": 6,
      "options": {"cellHeight": "sm", "footer": {"countRows": false, "fields": "", "reducer": ["sum"], "show": false}, "showHeader": true, "sortBy": [{"desc": true, "displayName": "CPU %"}]},
      "pluginVersion": "12.3.3",
      "targets": [
        {"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "count by (container_label_coolify_projectName) (container_last_seen{container_label_coolify_managed=\"true\", container_label_com_docker_compose_service!=\"\"})", "format": "table", "instant": true, "refId": "Services"},
        {"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "max by (container_label_coolify_projectName) ((time() - container_last_seen{container_label_coolify_managed=\"true\"}) < 60)", "format": "table", "instant": true, "refId": "Status"},
        {"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "sum by (container_label_coolify_projectName) (rate(container_cpu_usage_seconds_total{container_label_coolify_managed=\"true\"}[5m])) * 100", "format": "table", "instant": true, "refId": "CPU"},
        {"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "sum by (container_label_coolify_projectName) (container_memory_usage_bytes{container_label_coolify_managed=\"true\"})", "format": "table", "instant": true, "refId": "Memory"},
        {"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "sum by (container_label_coolify_projectName) (rate(container_network_receive_bytes_total{container_label_coolify_managed=\"true\"}[5m]))", "format": "table", "instant": true, "refId": "RX"},
        {"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "sum by (container_label_coolify_projectName) (rate(container_network_transmit_bytes_total{container_label_coolify_managed=\"true\"}[5m]))", "format": "table", "instant": true, "refId": "TX"}
      ],
      "title": "Projects Overview",
      "transformations": [
        {"id": "merge", "options": {}},
        {"id": "organize", "options": {"excludeByName": {"Time": true}, "indexByName": {"Time": 0, "Value #CPU": 3, "Value #Memory": 4, "Value #RX": 5, "Value #Services": 1, "Value #Status": 2, "Value #TX": 6, "container_label_coolify_projectName": 0}, "renameByName": {"Value #CPU": "CPU %", "Value #Memory": "Memory", "Value #RX": "Network RX", "Value #Services": "Services", "Value #Status": "Status", "Value #TX": "Network TX", "container_label_coolify_projectName": "Project"}}}
      ],
      "type": "table"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": {"tooltip": false, "viz": false, "legend": false}, "insertNulls": false, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "bytes"
        },
        "overrides": []
      },
      "gridPos": {"h": 8, "w": 8, "x": 16, "y": 8},
      "id": 7,
      "options": {"legend": {"calcs": ["mean", "max", "last"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "multi", "sort": "desc"}},
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "topk(10, sum by (container_label_coolify_projectName) (container_memory_usage_bytes{container_label_coolify_managed=\"true\"}))", "legendFormat": "{{container_label_coolify_projectName}}", "refId": "A"}],
      "title": "Top 10 Memory by Project",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {"axisBorderShow": false, "axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 10, "gradientMode": "none", "hideFrom": {"tooltip": false, "viz": false, "legend": false}, "insertNulls": false, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "never", "spanNulls": false, "stacking": {"group": "A", "mode": "normal"}, "thresholdsStyle": {"mode": "off"}},
          "mappings": [],
          "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
          "unit": "Bps"
        },
        "overrides": []
      },
      "gridPos": {"h": 8, "w": 8, "x": 16, "y": 16},
      "id": 8,
      "options": {"legend": {"calcs": ["mean", "max", "last"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "multi", "sort": "desc"}},
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "topk(10, sum by (container_label_coolify_projectName) (rate(container_network_receive_bytes_total{container_label_coolify_managed=\"true\"}[5m]) + rate(container_network_transmit_bytes_total{container_label_coolify_managed=\"true\"}[5m])))", "legendFormat": "{{container_label_coolify_projectName}}", "refId": "A"}],
      "title": "Top 10 Network I/O by Project",
      "type": "timeseries"
    }
  ],
  "schemaVersion": 39,
  "tags": ["coolify", "overview"],
  "templating": {"list": []},
  "time": {"from": "now-1h", "to": "now"},
  "timepicker": {},
  "timezone": "browser",
  "title": "Coolify - Overview",
  "uid": "coolify-overview",
  "version": 1
}
