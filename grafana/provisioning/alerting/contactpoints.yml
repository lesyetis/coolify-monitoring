apiVersion: 1

contactPoints:
  # Slack contact points disabled - Grafana latest requires OAuth token instead of webhooks
  # To re-enable: configure Slack OAuth app and add token
  # - orgId: 1
  #   name: slack-weather-alerts
  #   receivers:
  #     - uid: slack-weather
  #       type: slack
  #       settings:
  #         token: ${SLACK_OAUTH_TOKEN}
  #         recipient: '#alerts'
  #         title: 'üåßÔ∏è Alerte Pluie Asni√®res'
  #         text: |
  #           ‚ö†Ô∏è Pluie pr√©vue aujourd'hui √† Asni√®res-sur-Seine
  #           Probabilit√©: {{ index $values "B" }}%
  #           Temp√©rature: {{ index $values "A" }}¬∞C
  #           Prends ton parapluie! ‚òÇÔ∏è
  #       disableResolveMessage: false
  #
  # - orgId: 1
  #   name: slack-monitoring
  #   receivers:
  #     - uid: slack-monitoring
  #       type: slack
  #       settings:
  #         token: ${SLACK_OAUTH_TOKEN}
  #         recipient: '#monitoring'
  #         title: 'üö® {{ .CommonLabels.severity | toUpper }} Alert'
  #         text: |
  #           **{{ .CommonAnnotations.summary }}**
  #           {{ .CommonAnnotations.description }}
  #           **Labels:**
  #           {{ range .CommonLabels.SortedPairs }}
  #           ‚Ä¢ {{ .Name }}: {{ .Value }}
  #           {{ end }}
  #           **Status:** {{ .Status }}
  #       disableResolveMessage: false

  - orgId: 1
    name: email-alerts
    receivers:
      - uid: email-alerts
        type: email
        settings:
          addresses: ${ALERT_EMAIL_TO}
          subject: '[Coolify] {{ .CommonLabels.severity }} - {{ .CommonAnnotations.summary }}'
          message: |
            Alert: {{ .CommonAnnotations.summary }}

            {{ .CommonAnnotations.description }}

            Severity: {{ .CommonLabels.severity }}
            Type: {{ .CommonLabels.type }}

            Status: {{ .Status }}
        disableResolveMessage: false
